<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Editor Rete</title>
  <!-- Rete.js core -->
  <script src="https://cdn.jsdelivr.net/npm/rete@1.4.4/build/rete.min.js"></script>
  <!-- Plugins para vista -->
  <script src="https://cdn.jsdelivr.net/npm/rete-area-plugin@0.2.1/build/area-plugin.min.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; }
    #rete { width: 100%; height: 100%; background: #272822; }
  </style>
</head>
<body>
  <div id="rete"></div>
  <script>
    const container = document.getElementById("rete");

    // Crear editor
    const editor = new Rete.NodeEditor("demo@0.1.0", container);

    // ðŸ‘‡ usar plugin como propiedad de Rete
    editor.use(Rete.AreaPlugin);

    // Definir un nodo Number
    class NumComponent extends Rete.Component {
      constructor() {
        super("Number");
      }

      builder(node) {
        const out = new Rete.Output("num", "Number", "number");
        node.addOutput(out);
        return node;
      }

      worker(node, inputs, outputs) {
        outputs["num"] = node.data.num;
      }
    }

    const numComponent = new NumComponent();
    editor.register(numComponent);

    // Crear un nodo y mostrarlo
    (async () => {
      const node = await numComponent.createNode({ num: 5 });
      node.position = [80, 200];
      editor.addNode(node);

      editor.view.resize();
      editor.trigger("process");

      // ðŸ‘‡ igual aquÃ­
      Rete.AreaPlugin.zoomAt(editor, editor.nodes);
    })();

    console.log("Editor Rete con nodo listo âœ…");
  </script>
</body>
</html>
